<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zinu SEO Crawler</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
</head>
<body>


    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
    <div class= class="container-xxl bg-white p-0">
      <!-- Spinner Start --><!--
      <div id="spinner" class="bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>-->
    <!-- Spinner End -->
    <!-- Navbar -->
    <nav class="fixed-top navbar navbar-expand-lg navbar-dark bg-primary text-light flex-row ">
        <a class="navbar-brand font-weight-bolder" href="/">Zinu  Crawler SEO TEST</a>
        
          <div class="navbar-nav-scroll">
            
            <ul class="navbar-nav  mt+2 mt-mr+2 flex-row">
              <li class="nav-item ">
                <a class="nav-link pr-5" href="/anasayfa">Anasayfa <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link pr-5 " href="#">Biz Kimiz?</a>
              </li>
              <li class="nav-item">
                <a class="nav-link pr-5 " href="#">Görüşleriniz</a>
              </li>
            </ul>
           
          </div>
    </nav>


    <br><br><br><br><br><br><br>
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 m-2">
              <form id="indexForm" action="/" method="post" style="display: block;">
                <input type="text" id="indexTextbox" name="url" placeholder="URL giriniz" required>
                <button type="submit" class = "btn btn-success" id ="btnTaraA" data-toggle="button" aria-pressed="false" style="display: block;">Tara</button>
                <button class="btn btn-success" id="btnLoadingA" type="button" style="display: none;" disabled>
                  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                      Yükleniyor...
                  </button>
                <input type="hidden" name="labelIndex" value="{{ labelIndex }}">
                <label for="indexTextbox">{{ labelIndex }}</label>
                <div>
                  <input class="btn btn-primary btn-ml " type="reset" value="Sıfırla">
                </div>
            </form>

            <form id="webCrawlerForm" action="/webCrawler" method="post" style="display: none;">
              <input type="text" id="webCrawlerTextbox" name="url" placeholder="URL giriniz" required>
              <button type="submit" id ="btnTaraW" class = "btn btn-success" data-toggle="button" aria-pressed="false" style="display: block;">Tara</button>
              <button class="btn btn-success" id="btnLoadingW" type="button" style="display: none;" disabled>
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    Yükleniyor...
                </button>
              <input type="hidden" name="labelIndex" value="{{ labelIndex }}">
              <label for="webCrawlerTextbox">{{ labelIndex }}</label>
              <div>
                <input class="btn btn-primary btn-ml " type="reset" value="Sıfırla">
              </div>
            </form>

{% if labelIndex == "url formatına uygun bir adres girilmedi lütfen yeniden deneyin!" %}
    <script>
        // JavaScript kullanarak form kontrolü
        document.getElementById('webCrawlerForm').style.display = 'none';  // webCrawlerForm'u göster
        document.getElementById('indexForm').style.display = 'block';  // indexForm'u gizle
       
    </script>
{% elif labelIndex == "Url formatınız doğru. Tarama başlatılıyor" %}
    <script>
        // JavaScript kullanarak form kontrolü
        document.getElementById('btnLoading').style.display = 'block' //yükleme butonunu göster
        document.getElementById('btnTara').style.display = 'none' //Tara butonunu gizler
        document.getElementById('webCrawlerForm').style.display = 'block';  // webCrawlerForm'u göster
        document.getElementById('indexForm').style.display = 'none';
      
        
    </script>
{% else %}
    <script>
        // JavaScript kullanarak form kontrolü
        document.getElementById('btnLoading').style.display = 'none' //yükleme butonunu göster
        document.getElementById('btnTara').style.display = 'block' //Tara butonunu gizler
        
    </script>
{% endif %}
                       
            </div>
        </div>
    </div>

    <br><br><br>

    <div class="container-fluid">
        <div class="row">
            <div class="col-12 m-2">
            <form  id = "fileUpload" method="post" enctype="multipart/form-data">
                <input type="file" id="index" name="dosya[]" multiple accept=".html" required> <!-- burada kaç aet dosya seçileceğine karar ver-->
                <button type="submit" class="btn btn-success" data-toggle="button" aria-pressed="false"  value="Upload">Dosya Yükle</button>
                <div>
                <input class="btn btn-primary btn-ml " type="reset" value="Sıfırla">
              </div>
              </form>
            </div>
        </div>
    </div>
  </div>

    
</body>

</html>